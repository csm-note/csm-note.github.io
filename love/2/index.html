<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>I Love You | Futuristic</title>
  
  <!-- Import Futuristic Font -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;900&family=Sacramento&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      background-color: #050505;
      background: radial-gradient(circle at center, #1a0b1a 0%, #000000 100%);
      overflow: hidden;
      height: 100vh;
      width: 100vw;
      perspective: 1000px; /* For 3D feel */
    }

    /* The glowing text elements */
    .love-msg {
      position: absolute;
      font-family: 'Orbitron', sans-serif;
      color: #fff;
      white-space: nowrap;
      pointer-events: none; /* Let clicks pass through */
      text-shadow: 
        0 0 5px #fff,
        0 0 10px #fff,
        0 0 20px #ff00de,
        0 0 30px #ff00de,
        0 0 40px #ff00de;
      animation: floatUp linear forwards;
      opacity: 0;
      z-index: 10;
    }

    /* Central pulsing heart/core */
    .core {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 100px;
      filter: blur(2px);
      opacity: 0.3;
      animation: pulse 2s infinite;
      z-index: 0;
    }

    @keyframes pulse {
      0% { transform: translate(-50%, -50%) scale(1); opacity: 0.2; text-shadow: 0 0 20px red; }
      50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.5; text-shadow: 0 0 50px red; }
      100% { transform: translate(-50%, -50%) scale(1); opacity: 0.2; text-shadow: 0 0 20px red; }
    }

    @keyframes floatUp {
      0% {
        transform: translateY(110vh) scale(0.5) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      90% {
        opacity: 1;
      }
      100% {
        transform: translateY(-20vh) scale(1.5) rotate(10deg);
        opacity: 0;
      }
    }
  </style>
</head>
<body>

  <!-- Background decorative element -->
  <div class="core">üíù</div>

  <!-- Audio Source -->
  <audio id="backgroundMusic" src="assets/AUDIO.mpeg" loop></audio>

<script>
  const messages = ["I love you üíù", "Forever", "My Love", "Always", "I love you üíù", "You are my world"];
  const audio = document.getElementById("backgroundMusic");
  const body = document.body;

  // Configuration for density
  const spawnRate = 200; // Create a new text every 200ms

  function createFloatingText() {
    const el = document.createElement("div");
    el.className = "love-msg";
    el.textContent = messages[Math.floor(Math.random() * messages.length)];

    // Random positioning
    const x = Math.random() * 100; // 0 to 100vw
    
    // Random styling properties
    const duration = Math.random() * 5 + 5; // Between 5s and 10s speed
    const size = Math.random() * 20 + 15; // Font size between 15px and 35px
    const delay = Math.random() * 2; 

    el.style.left = `${x}vw`;
    el.style.fontSize = `${size}px`;
    el.style.animationDuration = `${duration}s`;
    
    // Add slightly different neon colors
    const colors = ['#ff00de', '#00ffff', '#ff0055'];
    const randomColor = colors[Math.floor(Math.random() * colors.length)];
    el.style.textShadow = `0 0 10px ${randomColor}, 0 0 20px ${randomColor}`;

    body.appendChild(el);

    // Cleanup DOM to prevent lag
    setTimeout(() => {
      el.remove();
    }, duration * 1000);
  }

  // Start the visuals IMMEDIATELY
  function initVisuals() {
    setInterval(createFloatingText, spawnRate);
  }

  // Attempt to enter fullscreen and play audio
  // Note: Browsers block this on load. We try, but if it fails,
  // we wait for the first user interaction (touch/move) to trigger it.
  function attemptImmersion() {
    // Audio
    audio.play().then(() => {
      console.log("Audio playing");
    }).catch(() => {
      console.log("Autoplay prevented. Waiting for interaction.");
    });

    // Fullscreen
    const docEl = document.documentElement;
    if (docEl.requestFullscreen) docEl.requestFullscreen().catch(() => {});
  }

  // --- Logic Execution ---

  // 1. Start visuals instantly
  initVisuals();

  // 2. Try to play audio instantly (Works in some settings, fails in Chrome/Safari)
  window.onload = attemptImmersion;

  // 3. Fallback: If autoplay failed, enable everything on the very first click/touch anywhere
  function unlockExperience() {
    attemptImmersion();
    // Remove listener so it doesn't keep firing
    document.removeEventListener('click', unlockExperience);
    document.removeEventListener('touchstart', unlockExperience);
    document.removeEventListener('scroll', unlockExperience);
  }

  document.addEventListener('click', unlockExperience);
  document.addEventListener('touchstart', unlockExperience);
  document.addEventListener('scroll', unlockExperience);

</script>
</body>
</html>
